# Структура диалогов

Все диалоги теперь организованы в отдельные папки с четкой структурой:

## Общая структура каждого диалога:

```
app/bot/dialogs/{dialog_name}/
├── __init__.py      # Экспорт основного диалога
├── states.py        # FSM состояния для диалога
├── dialog.py        # Определение диалога и окон
├── handlers.py      # Обработчики событий (колбэки, кнопки)
├── getters.py       # Функции получения данных для диалогов
└── utils.py         # Вспомогательные функции
```

## Реорганизованные диалоги:

### 1. Start (Стартовый экран)
- **Путь**: `app/bot/dialogs/start/`
- **Состояние**: `StartSG`
- **Назначение**: Приветствие и переход в главное меню
- **Основные компоненты**: 
  - `handlers.py`: обработчик перехода в главное меню
  - `dialog.py`: приветственное сообщение и кнопка

### 2. Main Menu (Главное меню)
- **Путь**: `app/bot/dialogs/main_menu/`
- **Состояние**: `MainMenuSG`
- **Назначение**: Центральное меню навигации по функциям бота
- **Основные компоненты**:
  - `handlers.py`: обработчики переходов в другие разделы
  - `dialog.py`: основное меню с кнопками навигации

### 3. Timetable (Расписание)
- **Путь**: `app/bot/dialogs/timetable/`
- **Состояние**: `TimetableSG`
- **Назначение**: Просмотр расписания конференции
- **Основные компоненты**:
  - `handlers.py`: обработчики выбора дня и события
  - `getters.py`: функции получения данных о событиях из конфигурации
  - `utils.py`: вспомогательные функции для форматирования
  - `dialog.py`: многооконный диалог с навигацией по дням и событиям

### 4. Navigation (Навигация)
- **Путь**: `app/bot/dialogs/navigation/`
- **Состояние**: `NavigationSG`
- **Назначение**: Навигация по площадке конференции

### 5. FAQ (Часто задаваемые вопросы)
- **Путь**: `app/bot/dialogs/faq/`
- **Состояние**: `FaqSG`
- **Назначение**: Система часто задаваемых вопросов

### 6. Registration (Регистрация на сессии)
- **Путь**: `app/bot/dialogs/registration/`
- **Состояние**: `RegistrationSG`
- **Назначение**: Регистрация участников на сессии конференции

## Обратная совместимость:

- Старый файл `app/bot/dialogs/other/dialogs.py` теперь содержит импорты из новых модулей
- Файлы в `app/bot/states/` реэкспортируют состояния из новых модулей
- Все существующие импорты продолжают работать без изменений

## Рекомендации по развитию:

1. **handlers.py** - добавляйте сюда обработчики нажатий кнопок, колбэки
2. **getters.py** - функции для получения данных из базы данных или внешних API
3. **utils.py** - вспомогательные функции для валидации, форматирования и т.д.
4. **dialog.py** - основная логика диалога, окна, клавиатуры
5. **states.py** - определение состояний FSM для диалога

## Примеры использования:

### Простой диалог (Start, FAQ, Navigation, Registration):
- Минимальная структура с одним окном
- Базовые обработчики в `handlers.py`
- Заглушки в `getters.py` и `utils.py` для будущего развития

### Сложный диалог (Timetable, Main Menu):
- Множественные окна и состояния
- Развитые обработчики событий
- Функции получения данных
- Вспомогательные утилиты

Каждый диалог теперь является самостоятельным модулем, что упрощает разработку, тестирование и поддержку кода.